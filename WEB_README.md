# 英文论文翻译器 - Web界面使用指南

## 🌟 功能特色

### ✨ 现代化界面设计
- **扁平化设计风格**：简洁美观的现代化界面
- **响应式布局**：完美适配桌面端和移动端
- **渐变色彩搭配**：专业的视觉效果
- **动画交互效果**：流畅的用户体验

### 📋 核心功能
1. **📤 文件上传**
   - 支持拖拽上传PDF文件
   - 文件大小限制：100MB
   - 实时文件信息显示

2. **⚙️ 参数配置**
   - AI模型选择（GPT-4/GPT-3.5）
   - 文本块大小调整
   - 生成温度控制
   - 重试次数设置
   - 超时时间配置
   - 可选功能开关

3. **📊 实时监控**
   - 任务进度条显示
   - 阶段状态更新
   - 实时日志输出
   - 错误信息展示

4. **📥 文件下载**
   - 一键下载翻译结果
   - Markdown格式输出
   - 文件名自动生成

5. **📜 历史管理**
   - 任务历史记录
   - 文件下载重试
   - 任务删除管理

## 🚀 快速开始

### 1. 环境准备

```bash
# 进入项目目录
cd ThesisTranslator

# 安装Web依赖
pip install -r requirements_web.txt

# 设置OpenAI API密钥
export OPENAI_API_KEY="your-openai-api-key"
```

### 2. 启动服务

```bash
# 方式一：使用启动脚本（推荐）
python start_web.py

# 方式二：直接启动
python web_app.py
```

### 3. 访问界面

打开浏览器访问：http://localhost:5000

## 📖 使用步骤

### 第一步：上传PDF文件
1. 点击上传区域或拖拽PDF文件到页面
2. 系统会自动验证文件格式和大小
3. 显示文件信息确认

### 第二步：配置翻译参数
1. **AI模型**：选择GPT-4（推荐）或GPT-3.5
2. **文本块大小**：推荐1000字符，可根据需要调整
3. **生成温度**：0.3为推荐值，越低越稳定
4. **最大重试**：网络不稳定时可增加重试次数
5. **超时时间**：大文件可适当增加超时时间
6. **包含目录**：自动生成Markdown目录
7. **包含元数据**：添加文档元信息

### 第三步：开始翻译
1. 点击"开始翻译"按钮
2. 系统会显示实时进度和状态
3. 可查看详细日志了解处理过程

### 第四步：下载结果
1. 翻译完成后会显示下载按钮
2. 点击下载获取Markdown文件
3. 文件会自动命名为"translated_原文件名.md"

## 🔧 配置说明

### 默认参数
- **AI模型**：gpt-4
- **文本块大小**：1000字符
- **生成温度**：0.3
- **最大重试**：3次
- **超时时间**：60秒
- **包含目录**：是
- **包含元数据**：是

### 参数调优建议

#### 📝 文本块大小
- **小文件（<10页）**：800-1000字符
- **中等文件（10-50页）**：1000-1200字符  
- **大文件（>50页）**：1200-1500字符

#### 🌡️ 生成温度
- **学术论文**：0.2-0.3（更稳定准确）
- **通用文档**：0.3-0.5（稍微灵活）

#### 🔄 重试次数
- **网络稳定**：3次
- **网络不稳定**：5次

#### ⏱️ 超时时间
- **小文件**：60秒
- **大文件**：120-300秒

## 📱 界面功能详解

### 🎨 上传区域
- **可视化拖拽**：支持文件拖拽上传
- **文件验证**：自动检查PDF格式和大小
- **状态反馈**：实时显示文件信息

### 📊 进度监控
- **进度条**：可视化显示翻译进度
- **阶段提示**：当前处理阶段说明
- **状态标签**：任务状态一目了然

### 📋 日志系统
- **实时日志**：显示最新10条日志
- **详细日志**：可查看完整处理日志
- **日志级别**：INFO、WARNING、ERROR分类显示

### 📜 历史记录
- **任务列表**：显示所有历史任务
- **状态查看**：任务状态和进度一览
- **文件管理**：下载和删除操作

## 🎯 最佳实践

### 📄 文件准备
1. **PDF质量**：确保PDF文本可提取（非扫描版）
2. **文件大小**：建议单个文件不超过50MB
3. **内容结构**：有清晰标题层次的文档效果更好

### ⚙️ 参数设置
1. **首次使用**：建议使用默认参数
2. **大文件处理**：适当增加超时时间和重试次数
3. **网络环境差**：降低文本块大小，增加重试次数

### 🕐 使用时机
1. **网络稳定时**：选择网络良好的时段进行翻译
2. **文件备份**：重要文件建议先备份
3. **分批处理**：大量文件建议分批处理

## 🔍 故障排除

### 常见问题

#### ❌ 上传失败
- 检查文件格式是否为PDF
- 确认文件大小不超过100MB
- 尝试重新选择文件

#### ⏸️ 翻译卡住
- 检查网络连接
- 查看日志中的错误信息
- 刷新页面重新开始

#### 🔑 API密钥错误
- 确认OPENAI_API_KEY环境变量已设置
- 检查API密钥是否有效
- 确认账户有足够余额

#### 📱 移动端问题
- 使用现代浏览器（Chrome、Safari、Firefox）
- 确保JavaScript已启用
- 尝试横屏模式

### 错误代码说明
- **400**：请求参数错误
- **404**：任务或文件不存在
- **500**：服务器内部错误

## 🔧 技术架构

### 前端技术
- **HTML5**：现代化语义标签
- **CSS3**：Flexbox布局、Grid、动画
- **JavaScript ES6+**：模块化、异步处理
- **Font Awesome**：图标库

### 后端技术
- **Flask**：轻量级Web框架
- **Flask-CORS**：跨域资源共享
- **多线程处理**：后台异步任务
- **RESTful API**：标准HTTP接口

### 数据流程
1. 前端上传文件到后端
2. 后端生成唯一任务ID
3. 异步处理翻译任务
4. 前端轮询获取状态更新
5. 完成后提供下载链接

## 📊 性能指标

### 处理能力
- **小文件（<5MB）**：2-5分钟
- **中等文件（5-20MB）**：5-15分钟
- **大文件（20-50MB）**：15-30分钟

### 并发支持
- **同时处理**：最多3个任务
- **队列等待**：超出任务自动排队
- **内存优化**：流式处理大文件

## 🛡️ 安全特性

### 文件安全
- **临时存储**：上传文件临时保存
- **自动清理**：处理完成后定期清理
- **访问控制**：任务ID验证机制

### 数据隐私
- **本地处理**：文件在本地服务器处理
- **不永久存储**：不保留用户文档内容
- **API安全**：OpenAI官方API调用

## 📞 技术支持

### 获取帮助
- **项目文档**：查看docs/目录下的详细文档
- **源码参考**：所有代码均有详细注释
- **日志分析**：通过日志定位问题

### 自定义开发
- **界面定制**：修改CSS样式文件
- **功能扩展**：基于Flask框架添加新功能
- **API集成**：RESTful接口易于集成

---

## 🎉 开始使用

现在就启动Web界面，体验现代化的论文翻译服务！

```bash
python start_web.py
```

打开浏览器访问：http://localhost:5000

享受智能翻译带来的便利！ ✨